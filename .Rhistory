"接続詞","接頭詞","副詞","感動詞"),
#"記号", "フィラー", "その他"
dic="./codes/userdictionary/polword.dic",
minFreq = 10)
ldpWrdMat10 <- as.data.frame(t(ldpWrdMat10))
politicsWrdMat10 <- docMatrixDF(politicsdata[,"Headline"],
pos = c("名詞","形容詞","動詞","助動詞","助詞",
"接続詞","接頭詞","副詞","感動詞"),
#"記号", "フィラー", "その他"
dic="./codes/userdictionary/polword.dic",
minFreq = 10)
politicsWrdMat10 <- as.data.frame(t(politicsWrdMat10))
#############################################
## Save Exported Subset & Text Matrix Data ##
#############################################
## Headline Level Data
write.csv(cabinetdata,"./data_public/cabinetdata.csv", row.names=FALSE)
write.csv(ldpdata,"./data_public/ldpdata.csv", row.names=FALSE)
write.csv(politicsdata,"./data_public/politicsdata.csv", row.names=FALSE)
## Word Appearance Matirx Data (rows corresponding with headline level data)
write.csv(cabinetWrdMat10,"./data_public/cabinetWrdMat10.csv", row.names=FALSE)
write.csv(ldpWrdMat10,"./data_public/ldpWrdMat10.csv", row.names=FALSE)
write.csv(politicsWrdMat10,"./data_public/politicsWrdMat10.csv", row.names=FALSE)
save(datedata, cabinetdata, ldpdata, politicsdata,
cabinetWrdMat10, ldpWrdMat10, politicsWrdMat10,
file = "../data/polhead_subsetRMeCab_170509.rda")
#################################################################################
## File Name: polhead_subsetCodingSample_170509.R                              ##
## Date: 09 May 2017                                                           ##
## Author: Gento Kato                                                          ##
## Project: Political Headlines                                                ##
## Purpose: Subset Data and Create Text Appearance Matrix                      ##
#################################################################################
##############################################################################
##############################################################################
## IMPORTANT: MAKE SURE TO OPEN THIS FILE BY CP932(Shift-Jis) TEXT ENCODING ##
##############################################################################
##############################################################################
## Clear Environment
rm(list=ls())
## Prepare Needed Packages
#install.packages ("RMeCab", repos = "http://rmecab.jp/R")
library(rprojroot); library(RMeCab)
## Set Working Directory (As the project folder)
setwd(dirname(rstudioapi::getActiveDocumentContext()$path)); setwd("../") #In RStudio
projdir <- find_root(has_file("README.md")); projdir; setwd(projdir) #In Atom
#setwd("C:/GoogleDrive/Projects/Political_Headlines/Political_Headlines_Project")
##########
## Data ##
##########
## Load Data
cabinetdata <- read.csv("./data_public/cabinetdata.csv")
ldpdata <- read.csv("./data_public/ldpdata.csv")
politicsdata <- read.csv("./data_public/politicsdata.csv")
#############################
## Sample Coding Headlines ##
#############################
## Sample n rows from each subset
samplecoding <- function(tagetdata, n, seed = 45349){
set.seed(seed)
sampleloc <- sample(seq(1,dim(targetdata)[1],1), n)
codingtarget <- data.frame(id_all = targetdata$id_all[sampleloc],
Headline = targetdata$Headline[sampleloc],
sampleloc = sampleloc,
codeN = NA)
return(codingtarget)
}
## Create Coding Data
codingcabinet <- samplecoding(cabinetdata, 500)
codingldp <- samplecoding(ldpdata, 500)
codingpolitics <- samplecoding(politicsdata, 500)
#########################
## Save Coding Subsets ##
#########################
## Coding Data ##
write.csv(codingcabinet,"./data_public/codingcabinet_170509.csv", row.names=FALSE)
write.csv(codingldp,"./data_public/codingldp_170509.csv", row.names=FALSE)
write.csv(codingpolitics,"./data_public/codingpolitics_170509.csv", row.names=FALSE)
## Sample n rows from each subset
samplecoding <- function(targetdata, n, seed = 45349){
set.seed(seed)
sampleloc <- sample(seq(1,dim(targetdata)[1],1), n)
codingtarget <- data.frame(id_all = targetdata$id_all[sampleloc],
Headline = targetdata$Headline[sampleloc],
sampleloc = sampleloc,
codeN = NA)
return(codingtarget)
}
## Create Coding Data
codingcabinet <- samplecoding(cabinetdata, 500)
codingldp <- samplecoding(ldpdata, 500)
codingpolitics <- samplecoding(politicsdata, 500)
#########################
## Save Coding Subsets ##
#########################
## Coding Data ##
write.csv(codingcabinet,"./data_public/codingcabinet_170509.csv", row.names=FALSE)
write.csv(codingldp,"./data_public/codingldp_170509.csv", row.names=FALSE)
write.csv(codingpolitics,"./data_public/codingpolitics_170509.csv", row.names=FALSE)
#################################################################################
## File Name: polhead_subsetCodingSample_170509.R                              ##
## Date: 09 May 2017                                                           ##
## Author: Gento Kato                                                          ##
## Project: Political Headlines                                                ##
## Purpose: Subset Data and Create Text Appearance Matrix                      ##
#################################################################################
##############################################################################
##############################################################################
## IMPORTANT: MAKE SURE TO OPEN THIS FILE BY CP932(Shift-Jis) TEXT ENCODING ##
##############################################################################
##############################################################################
## Clear Environment
rm(list=ls())
## Prepare Needed Packages
#install.packages ("RMeCab", repos = "http://rmecab.jp/R")
library(rprojroot); library(RMeCab)
## Set Working Directory (As the project folder)
setwd(dirname(rstudioapi::getActiveDocumentContext()$path)); setwd("../") #In RStudio
projdir <- find_root(has_file("README.md")); projdir; setwd(projdir) #In Atom
#setwd("C:/GoogleDrive/Projects/Political_Headlines/Political_Headlines_Project")
##########
## Data ##
##########
## Load Data
cabinetdata <- read.csv("./data_public/cabinetdata.csv")
ldpdata <- read.csv("./data_public/ldpdata.csv")
politicsdata <- read.csv("./data_public/politicsdata.csv")
#############################
## Sample Coding Headlines ##
#############################
## Sample n rows from each subset
samplecoding <- function(targetdata, n, seed = 45349){
set.seed(seed)
sampleloc <- sample(seq(1,dim(targetdata)[1],1), n)
codingtarget <- data.frame(id_all = targetdata$id_all[sampleloc],
Headline = targetdata$Headline[sampleloc],
codeN = NA,
sampleloc = sampleloc)
return(codingtarget)
}
## Create Coding Data
codingcabinet <- samplecoding(cabinetdata, 500)
codingldp <- samplecoding(ldpdata, 500)
codingpolitics <- samplecoding(politicsdata, 500)
#########################
## Save Coding Subsets ##
#########################
## Coding Data ##
write.csv(codingcabinet,"./data_public/codingcabinet_170509.csv", row.names=FALSE)
write.csv(codingldp,"./data_public/codingldp_170509.csv", row.names=FALSE)
write.csv(codingpolitics,"./data_public/codingpolitics_170509.csv", row.names=FALSE)
#################################################################################
## File Name: polhead_subsetCodingSample_170509.R                              ##
## Date: 09 May 2017                                                           ##
## Author: Gento Kato                                                          ##
## Project: Political Headlines                                                ##
## Purpose: Subset Data and Create Text Appearance Matrix                      ##
#################################################################################
##############################################################################
##############################################################################
## IMPORTANT: MAKE SURE TO OPEN THIS FILE BY CP932(Shift-Jis) TEXT ENCODING ##
##############################################################################
##############################################################################
## Clear Environment
rm(list=ls())
## Prepare Needed Packages
#install.packages ("RMeCab", repos = "http://rmecab.jp/R")
library(rprojroot); library(RMeCab)
## Set Working Directory (As the project folder)
setwd(dirname(rstudioapi::getActiveDocumentContext()$path)); setwd("../") #In RStudio
projdir <- find_root(has_file("README.md")); projdir; setwd(projdir) #In Atom
#setwd("C:/GoogleDrive/Projects/Political_Headlines/Political_Headlines_Project")
##########
## Data ##
##########
## Load Data
cabinetdata <- read.csv("./data_public/cabinetdata.csv")
ldpdata <- read.csv("./data_public/ldpdata.csv")
politicsdata <- read.csv("./data_public/politicsdata.csv")
#############################
## Sample Coding Headlines ##
#############################
## Sample n rows from each subset
samplecoding <- function(targetdata, n, seed = 45349){
set.seed(seed)
sampleloc <- sample(seq(1,dim(targetdata)[1],1), n)
codingtarget <- data.frame(id_all = targetdata$id_all[sampleloc],
Headline = targetdata$Headline[sampleloc],
codeN = NA, missword = NA,
sampleloc = sampleloc)
return(codingtarget)
}
## Create Coding Data
codingcabinet <- samplecoding(cabinetdata, 500)
codingldp <- samplecoding(ldpdata, 500)
codingpolitics <- samplecoding(politicsdata, 500)
#########################
## Save Coding Subsets ##
#########################
## Coding Data ##
write.csv(codingcabinet,"./data_public/codingcabinet_170509.csv", row.names=FALSE)
write.csv(codingldp,"./data_public/codingldp_170509.csv", row.names=FALSE)
write.csv(codingpolitics,"./data_public/codingpolitics_170509.csv", row.names=FALSE)
?savdRDS
?saveRDS
?docNgramDF()
docMatrixDF()
?docMatrixDF()
#################################################################################
## File Name: polhead_CodingSample_170509.R                                    ##
## Date: 09 May 2017                                                           ##
## Author: Gento Kato                                                          ##
## Project: Political Headlines                                                ##
## Purpose: Subset Data and Create Text Appearance Matrix                      ##
#################################################################################
##############################################################################
##############################################################################
## IMPORTANT: MAKE SURE TO OPEN THIS FILE BY CP932(Shift-Jis) TEXT ENCODING ##
##############################################################################
##############################################################################
## Clear Environment
rm(list=ls())
## Prepare Needed Packages
#install.packages ("RMeCab", repos = "http://rmecab.jp/R")
library(rprojroot); library(RMeCab)
## Set Working Directory (As the project folder)
setwd(dirname(rstudioapi::getActiveDocumentContext()$path)); setwd("../") #In RStudio
projdir <- find_root(has_file("README.md")); projdir; setwd(projdir) #In Atom
#setwd("C:/GoogleDrive/Projects/Political_Headlines/Political_Headlines_Project")
##########
## Data ##
##########
## Load Data
# Read Text Data
datedata<-read.csv('../data/alldate_170420.csv')
#############################
## Sample Coding Headlines ##
#############################
## Sample n rows from each subset
samplecoding <- function(targetdata, n, seed = 45349){
set.seed(seed)
sampleloc <- sample(seq(1,dim(targetdata)[1],1), n)
codingtarget <- data.frame(id_all = targetdata$id_all[sampleloc],
Headline = targetdata$Headline[sampleloc],
codeN = NA, missword = NA,
sampleloc = sampleloc)
return(codingtarget)
}
## Create Coding Data
codingall <- samplecoding(datedata, 1000)
#########################
## Save Coding Subsets ##
#########################
## Coding Data ##
write.csv(codingall,"./data_public/codingall_170509.csv", row.names=FALSE)
#################################################################################
## File Name: polhead_RWrdMat_170509.R                                         ##
## Date: 09 May 2017                                                           ##
## Author: Gento Kato                                                          ##
## Project: Political Headlines                                                ##
## Purpose: Conduct Isomorphic Analysis and Create Dataset                     ##
#################################################################################
##############################################################################
##############################################################################
## IMPORTANT: MAKE SURE TO OPEN THIS FILE BY CP932(Shift-Jis) TEXT ENCODING ##
##############################################################################
##############################################################################
## Clear Environment
rm(list=ls())
## Prepare Needed Packages
#install.packages ("RMeCab", repos = "http://rmecab.jp/R")
library(rprojroot); library(RMeCab)
## Set Working Directory (As the project folder)
setwd(dirname(rstudioapi::getActiveDocumentContext()$path)); setwd("../") #In RStudio
projdir <- find_root(has_file("README.md")); projdir; setwd(projdir) #In Atom
#setwd("C:/GoogleDrive/Projects/Political_Headlines/Political_Headlines_Project/codes")
##########
## Data ##
##########
# Read Text Data
datedata<-read.csv('../data/alldate_170420.csv')
# Conduct Keitaiso Kaiseki (Isomorphic Analysis) #using user dictionary
allWrdMat10 <- docMatrixDF(datedata[,"Headline"],
pos = c("名詞","形容詞","動詞"),
#"助動詞","助詞","接続詞","接頭詞","副詞","感動詞""記号", "フィラー", "その他"
dic="./codes/userdictionary/polword.dic",
minFreq = 10)
allWrdMat10 <- as.data.frame(t(allWrdMat10))
allBigram10 <- docMatrixDF(datedata[,"Headline"], N=2,
pos = c("名詞","形容詞","動詞"),
#"助動詞","助詞","接続詞","接頭詞","副詞","感動詞""記号", "フィラー", "その他"
dic="./codes/userdictionary/polword.dic",
minFreq = 10)
allBigram10 <- as.data.frame(t(allWrdMat10))
## Save the result
saveRDS(allWrdMat10,"../data/allWrdMat10.rds")
saveRDS(allBigram10,"../data/allBigram10.rds")
allBigram10 <- docNgramDF(datedata[,"Headline"], N=2,
pos = c("名詞","形容詞","動詞"),
#"助動詞","助詞","接続詞","接頭詞","副詞","感動詞""記号", "フィラー", "その他"
dic="./codes/userdictionary/polword.dic",
minFreq = 10)
allBigram10 <- as.data.frame(t(allWrdMat10))
## Save the result
saveRDS(allWrdMat10,"../data/allWrdMat10.rds")
saveRDS(allBigram10,"../data/allBigram10.rds")
allBigram10 <- docNgramDF(datedata[,"Headline"], N=2,
pos = c("名詞","形容詞","動詞"),
#"助動詞","助詞","接続詞","接頭詞","副詞","感動詞""記号", "フィラー", "その他"
dic="./codes/userdictionary/polword.dic",
minFreq = 10)
allBigram10 <- as.data.frame(t(allBigram10))
## Save the result
saveRDS(allWrdMat10,"../data/allWrdMat10.rds")
saveRDS(allBigram10,"../data/allBigram10.rds")
allWrdMat[1:10,1:10]
allWrdMat10[1:10,1:10]
allWrdMat10[1:20,1:20]
names(allWrdMat10)[1:20]
names(allWrdMat10)[1:30]
allBigram10 <- docNgramDF(datedata[,"Headline"], N=2,
pos = c("名詞","形容詞","動詞"),
#"助動詞","助詞","接続詞","接頭詞","副詞","感動詞""記号", "フィラー", "その他"
dic="./codes/userdictionary/polword.dic",
minFreq = 10)
allBigram10[1:10,1:10]
#################################################################################
## File Name: polhead_RBigram_170509.R                                         ##
## Date: 09 May 2017                                                           ##
## Author: Gento Kato                                                          ##
## Project: Political Headlines                                                ##
## Purpose: Conduct Isomorphic Analysis and Create Dataset                     ##
#################################################################################
##############################################################################
##############################################################################
## IMPORTANT: MAKE SURE TO OPEN THIS FILE BY CP932(Shift-Jis) TEXT ENCODING ##
##############################################################################
##############################################################################
## Clear Environment
rm(list=ls())
## Prepare Needed Packages
#install.packages ("RMeCab", repos = "http://rmecab.jp/R")
library(rprojroot); library(RMeCab)
## Set Working Directory (As the project folder)
setwd(dirname(rstudioapi::getActiveDocumentContext()$path)); setwd("../") #In RStudio
projdir <- find_root(has_file("README.md")); projdir; setwd(projdir) #In Atom
#setwd("C:/GoogleDrive/Projects/Political_Headlines/Political_Headlines_Project/codes")
##########
## Data ##
##########
# Read Text Data
datedata<-read.csv('../data/alldate_170420.csv')
## Bigram
allBigram10 <- docNgramDF(datedata[,"Headline"], N=2,
pos = c("名詞","形容詞","動詞"),
#"助動詞","助詞","接続詞","接頭詞","副詞","感動詞""記号", "フィラー", "その他"
dic="./codes/userdictionary/polword.dic",
minFreq = 10)
allBigram10 <- as.data.frame(t(allBigram10))
## Save the result
saveRDS(allBigram10,"../data/allBigram10.rds")
## Bigram
allBigram10 <- docNgramDF(datedata[,"Headline"], N=2,
pos = c("名詞","形容詞","動詞"),
#"助動詞","助詞","接続詞","接頭詞","副詞","感動詞""記号", "フィラー", "その他"
dic="./codes/userdictionary/polword.dic",
minFreq = 20)
allBigram10 <- as.data.frame(t(allBigram10))
dim(allBigram10)
class(allBigram10)
allBigram10 <- t(allBigram10)
?saveRDS
saveRDS(allBigram10,"../allBigram20t.rds")
allBigram20t <- readRDS("../allBigram20t.rds")
save(allBigram10,"../allBigram20t.rda")
getwd()
?save
save(allBigram10, file="../allBigram20t.rda")
## Clear Environment
rm(list=ls())
load("../allBigram20t.rda")
## Clear Environment
rm(list=ls())
readRDS("../allBigram20t.rds")
allBigram20t <- readRDS("../allBigram20t.rds")
allBigram20t <- load("../allBigram20t.rda")
## Clear Environment
rm(list=ls())
allBigram20t <- readRDS("../allBigram20t.rds")
Cv = function(){x^g/g}
Cy = function(){y^g/g}
#################################################################################
## File Name: polhead_RMecab_170510.R                                          ##
## Date: 10 May 2017                                                           ##
## Author: Gento Kato                                                          ##
## Project: Political Headlines                                                ##
## Purpose: Merge Coding with All Date Dataset                                 ##
#################################################################################
##############################################################################
##############################################################################
## IMPORTANT: MAKE SURE TO OPEN THIS FILE BY CP932(Shift-Jis) TEXT ENCODING ##
##############################################################################
##############################################################################
## Clear Environment
rm(list=ls())
## Prepare Needed Packages
library(rprojroot)
## Set Working Directory (As the project folder)
setwd(dirname(rstudioapi::getActiveDocumentContext()$path)); setwd("../") #In RStudio
projdir <- find_root(has_file("README.md")); projdir; setwd(projdir) #In Atom
#setwd("C:/GoogleDrive/Projects/Political_Headlines/Political_Headlines_Project")
##########
## Data ##
##########
# Read Text Data
alldata<-read.csv('../data/alldate_170420.csv')
codeddata <- read.csv('./data_public/codedall_170509.csv')
had(codeddata)
head(codeddata)
## Remove the Last PN Code
alldata <- alldata[,!(names(alldata) == "CodePN")]
names(alldata)
alldata <- alldata[,!(names(alldata) == "codePN")]
names(alldata)
## Add New Negative Code
alldata$codeN = NA
alldata$codeN[codeddata$sampleloc] <- codeddata$codeN
## Training Data Dummy
alldata$train = 0
alldata$train[codeddata$sampleloc] <- 1
head(alldata$codeN,100)
head(alldata$codeN,1000)
head(alldata$train,1000)
#################################################################################
## File Name: polhead_RMecab_170510.R                                          ##
## Date: 10 May 2017                                                           ##
## Author: Gento Kato                                                          ##
## Project: Political Headlines                                                ##
## Purpose: Merge Coding with All Date Dataset                                 ##
#################################################################################
##############################################################################
##############################################################################
## IMPORTANT: MAKE SURE TO OPEN THIS FILE BY CP932(Shift-Jis) TEXT ENCODING ##
##############################################################################
##############################################################################
## Clear Environment
rm(list=ls())
## Prepare Needed Packages
library(rprojroot)
## Set Working Directory (As the project folder)
setwd(dirname(rstudioapi::getActiveDocumentContext()$path)); setwd("../") #In RStudio
projdir <- find_root(has_file("README.md")); projdir; setwd(projdir) #In Atom
#setwd("C:/GoogleDrive/Projects/Political_Headlines/Political_Headlines_Project")
##########
## Data ##
##########
# Read Text Data
alldata<-read.csv('../data/alldate_170420.csv')
codeddata <- read.csv('./data_public/codedall_170509.csv')
## Remove the Last PN Code
alldata <- alldata[,!(names(alldata) == "codePN")]
## Add New Negative Code
alldata$codeN = NA
alldata$codeN[codeddata$sampleloc] <- codeddata$codeN
## Training Data Dummy
alldata$train = 0
alldata$train[codeddata$sampleloc] <- 1
###############
## Save Data ##
###############
write.csv(alldata, "../data/alldata_traincode_170510.csv")
#################################################################################
## File Name: polhead_allWrdMat_170509.R                                       ##
## Date: 09 May 2017                                                           ##
## Author: Gento Kato                                                          ##
## Project: Political Headlines                                                ##
## Purpose: Conduct Isomorphic Analysis and Create Dataset                     ##
#################################################################################
##############################################################################
##############################################################################
## IMPORTANT: MAKE SURE TO OPEN THIS FILE BY CP932(Shift-Jis) TEXT ENCODING ##
##############################################################################
##############################################################################
## Clear Environment
rm(list=ls())
## Prepare Needed Packages
#install.packages ("RMeCab", repos = "http://rmecab.jp/R")
library(rprojroot); library(RMeCab)
## Set Working Directory (As the project folder)
setwd(dirname(rstudioapi::getActiveDocumentContext()$path)); setwd("../") #In RStudio
projdir <- find_root(has_file("README.md")); projdir; setwd(projdir) #In Atom
#setwd("C:/GoogleDrive/Projects/Political_Headlines/Political_Headlines_Project/codes")
allWrdMat10 <- readRDS("../data/allWrdMat10.rds")
rm(allWrdMat10)
cab <- read.csv("./data_public/cabinetWrdMat10.csv")
ldp <- read.csv("./data_public/ldpWrdMat10.csv")
pol <- read.csv("./data_public/politicsWrdMat10.csv")
rm(list=ls())
allBigram20t <- readRDS("../data/allBigram20t.rds")
dim(allBigram20t)
rm(list=ls())
allWrdMat10 <- readRDS("../data/allWrdMat10.rds")
save(allWrdMat10, file = "../data/allWrdMat10.rds")
save(allWrdMat10, file = "../data/allWrdMat10.rda")
rm(list=ls())
fa <- readRDS('../data/allWrdMat10.rds')
fa <- readRDS('../data/allWrdMat10.rds')
allWrdMat10 <- readRDS("../data/allWrdMat10.rds")
load("../data/allWrdMat10.rda")
saveRDS(allWrdMat10, '../data/allWrdMat10.rds')
fa <- readRDS('../data/allWrdMat10.rds')
rm(list=ls())
